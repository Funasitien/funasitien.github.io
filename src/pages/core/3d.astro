---
import Layout from "../../layouts/core.astro";
import List from "../../components/SketchfabList.astro";
import { Icon } from "astro-icon/components";
---

<Layout>
  <div class="relative flex min-h-screen flex-col justify-center overflow-hidden bg-gray-50 dark:bg-gray-800 py-6 sm:py-12">
    <img src="/core/light_beams.jpg" alt="" class="bolck dark:hidden absolute top-1/2 left-1/2 max-w-none -translate-x-1/2 -translate-y-1/2" />
    <img src="/core/dark_beams.jpg" alt="" class="hidden dark:block absolute top-1/2 left-1/2 max-w-none -translate-x-1/2 -translate-y-1/2" />
    
    <div class="absolute inset-0 bg-[url(/core/grid.svg)] bg-center"></div>
    <div
      class="fixed start-0 bottom-0 md:bottom-5 z-50 flex justify-center w-full min-w-full"
    >
      <div
        class="bg-base-300 md:rounded-2xl p-2 flex justify-center gap-2 max-md:w-full"
      >
       <div class="tooltip" data-tip="Accueil">
          <a href="/core">
            <img
              src="/icons/home.png"
              class="w-auto h-12 hover:-translate-y-2 hover:scale-110 hover:bg-primary hover:rounded-xl transition-all duration-100 p-1"
            />
          </a>
        </div>
        <div class="tooltip" data-tip="Design">
          <a href="">
            <img
              src="/icons/light.png"
              class="w-12 h-12 hover:-translate-y-2 hover:scale-110 hover:bg-primary hover:rounded-xl transition-all duration-100 p-1"
            />
          </a>
        </div>
        <div class="tooltip" data-tip="ModÃ¨les 3D">
          <a href="/core/3d">
            <img
              src="/icons/cube.png"
              class="w-12 h-12 hover:-translate-y-2 hover:scale-110 hover:bg-primary hover:rounded-xl transition-all duration-100 p-1"
            />
          </a>
        </div>
        <div class="tooltip" data-tip="Pixel Art">
          <a href="/core/pixel">
            <img
              src="/icons/pixel.png"
              class="w-12 h-12 hover:-translate-y-2 hover:scale-110 hover:bg-primary hover:rounded-xl transition-all duration-100 p-1"
            />
          </a>
        </div>
        <div class="tooltip" data-tip="Musique">
          <a href="/core/music">
            <img
              src="/icons/disc.png"
              class="w-12 h-12 hover:-translate-y-2 hover:scale-110 hover:bg-primary hover:rounded-xl transition-all duration-100 p-1"
            />
          </a>
        </div>
      </div>
    </div>

    <div class="absolute flex flex-col md:flex-row justify-center p-2 md:p-20 z-20 h-screen w-full gap-12">
      <div id="bdiv" class="flex flex-col w-full md:w-3/5 z-30 h-4/5 md:h-full">
        <div class="flex w-full text-2xl md:text-4xl font-bold items-center gap-4">
          <img
              src="/icons/cube.png"
              class="w-12 h-12 md:w-16 md:h-16"
            />
            ModÃ¨les 3D
        </div>
        <ul
          class="list block bg-base-100 rounded-box shadow-md overflow-auto w-full h-fit my-12"
        >
        <List
          titre = "Kart Rouge"
          description = "VÃ©hicule rÃ©alisÃ© pour un mode de jeux de course de karts sur DEMOCRAFT."
          icon = "tabler:car-filled"
          icon_bg = "bg-red-300 dark:bg-red-800"
          data="6007809ac3c0448db4465b67e64657c5">
          <div class="badge badge-xs badge-error">ðŸŒŸ DEMOCRAFT</div>
          <div class="badge badge-xs">ðŸš— VÃ©hicule</div>
        </List>
        <List
          titre = "Platine"
          description = "1<br>2"
          icon = "tabler:disc-filled"
          icon_bg = "bg-purple-300 dark:bg-purple-800"
          data="9fb7fa79afbf47868c793dca10a5db93">
          <div class="badge badge-xs badge-error">ðŸŒŸ DEMOCRAFT</div>
          <div class="badge badge-xs">ðŸŽ¹ Instrument</div>
        </List>
        <List
          titre = "Guitare"
          description = "1<br>2"
          icon = "tabler:brand-netease-music"
          icon_bg = "bg-sky-300 dark:bg-sky-800"
          data="9aef4e3ca0434bb5a3f52e8ff14d179d">
          <div class="badge badge-xs badge-error">ðŸŒŸ DEMOCRAFT</div>
          <div class="badge badge-xs">ðŸŽ¹ Instrument</div>
        </List>
        <List
          titre = "Piano"
          description = "1<br>2"
          icon = "tabler:piano"
          icon_bg = "bg-purple-300 dark:bg-purple-800"
          data="7e265a3e18a34643a047ba64449e9520">
          <div class="badge badge-xs badge-error">ðŸŒŸ DEMOCRAFT</div>
          <div class="badge badge-xs">ðŸŽ¹ Instrument</div>
        </List>
        <List
          titre = "DEMO la BRIQUE"
          description = "1<br>2"
          icon = "tabler:building-tunnel"
          icon_bg = "bg-rose-200 dark:bg-rose-800"
          data="20bdd8d4376447459f48d0f4e1426f24">
          <div class="badge badge-xs badge-error">ðŸŒŸ DEMOCRAFT</div>
          <div class="badge badge-xs">ðŸ¦„ Mascotte</div>
        </List>
        <List
          titre = "CACTOUS le CACTUS"
          description = "1<br>2"
          icon = "tabler:cactus-filled"
          icon_bg = "bg-lime-300 dark:bg-lime-800"
          data="a5cef7c3acf54491ad32fcf6fd0069ca">
          <div class="badge badge-xs badge-error">ðŸŒŸ DEMOCRAFT</div>
          <div class="badge badge-xs">ðŸ¦„ Mascotte</div>
        </List>
        <List
          titre = "Mascotte Lapin"
          description = "1<br>2"
          icon = "tabler:carrot"
          icon_bg = "bg-amber-300 dark:bg-amber-800"
          data="f012cbd8d8694c919870102a325c825c">
          <div class="badge badge-xs">ðŸ¦„ Mascotte</div>
        </List>
        </ul>
      </div>
      <div id="idiv" class="flex flex-col w-full md:w-1/3 z-30 h-4/5 md:h-full max-md:hidden">
        <div class="">
          <div class="flex flex-row place-content-between">
            <span class="badge badge-primary badge-xl font-bold" id="title">
              Kart Rouge
            </span>
            <button class="btn btn-ghost btn-sm md:hidden" onclick="hideI()">
              <Icon name="tabler:arrow-big-left-filled" class="text-3xl" />
            </button>
          </div>
          <p id="description" class="p-2 text-base-content">
            VÃ©hicule rÃ©alisÃ© pour un mode de jeux de course de karts sur DEMOCRAFT.
          </p>
        </div>
        <div
          class="mask mask-custom bg-base-300 h-full w-full z-50 rounded-4xl text-base-content"
        >
          <iframe
            class="w-full h-full bg-base-100 shadow-md iframe"
            title="Kart 1"
            frameborder="0"
            allowfullscreen
            allow="autoplay; fullscreen; xr-spatial-tracking"
            xr-spatial-tracking
            execution-while-out-of-viewport
            execution-while-not-rendered
            web-share
            src="https://sketchfab.com/models/6007809ac3c0448db4465b67e64657c5/embed?autostart=1&transparent=1"
          >
          </iframe>
        </div>
      </div>
    </div>
  </div>

  <script is:inline>
    const buttons = document.querySelectorAll("button.core");
    const iframe = document.querySelector(".iframe");
    const idiv = document.querySelector("#idiv");
    const bdiv = document.querySelector("#bdiv");

    buttons.forEach((button) => {
      button.addEventListener("click", () => {
        const coreValue = button.getAttribute("data-core");
        if (coreValue) {
          iframe.src = coreValue;
          bdiv.classList.add("max-md:hidden")
          idiv.classList.remove("max-md:hidden")
          document.querySelector("#title").innerHTML = button.getAttribute("data-titre");
          document.querySelector("#description").innerHTML = button.getAttribute("data-description");
        }
      });
    });

    function hideI() {
      bdiv.classList.remove("max-md:hidden")
      idiv.classList.add("max-md:hidden")
    }
  </script>
</Layout>
